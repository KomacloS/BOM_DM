<div id="drawer" class="p-4 border">
  <h2 class="text-xl mb-2">{{ macro.name }}</h2>
  <p>ID: {{ macro.id }}</p>
  {% if macro.glb_path %}
  <model-viewer src="/{{ macro.glb_path }}" alt="{{ macro.name }}" camera-controls ar style="width:100%;height:300px"></model-viewer>
  {% endif %}
  <form class="mt-2">
    <input type="file" name="file" accept=".glb" hx-post="/testmacros/{{ macro.id }}/upload_glb" hx-include="closest form" hx-target="#drawer" hx-swap="outerHTML" class="upload-btn" />
  </form>
  <h3 class="font-bold mt-4">Linked Parts</h3>
  <ul>
  {% for p in parts %}
    <li class="flex items-center justify-between">
      <span>{{ p.id }} - {{ p.number }}</span>
      <button class="del-btn text-red-600" hx-delete="/parts/{{ p.id }}/testmacros/{{ macro.id }}" hx-target="#drawer" hx-swap="outerHTML">âœ–</button>
    </li>
  {% endfor %}
  </ul>
  <script>checkOperator();</script>
</div>
